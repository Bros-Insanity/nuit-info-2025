<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Formulaire complet avec accents et email</title>
  
    <style>
    #blason svg {
      width: 200px;
      height: 250px;
      border: 2px solid black;
    }
  </style>
</head>
<body>

<h1>Formulaire</h1>

<form id="mainForm">
  <h2>Identit√©</h2>

  <div>
    <label>Genre :</label>
    <label><input type="radio" name="genrePers" value="Homme"> Homme</label>
    <label><input type="radio" name="genrePers" value="Femme"> Femme</label>
    <label><input type="radio" name="genrePers" value="Non-binaire"> Non-binaire</label>
  </div>

  <div>
    <label>Pr√©nom :</label>
    <input type="text" id="prenom" readonly>
    <button type="button" data-compose="prenom">Composer</button>
    <button type="button" data-clear="prenom">Effacer</button>
  </div>

  <div>
    <label>Nom :</label>
    <input type="text" id="nom" readonly>
    <button type="button" data-compose="nom">Composer</button>
    <button type="button" data-clear="nom">Effacer</button>
  </div>

  <div>
    <label>Email :</label>
    <input type="text" id="email" readonly>
    <button type="button" data-compose="email">Composer</button>
    <button type="button" data-clear="email">Effacer</button>
  </div>

  <h2>Villes</h2>

  <div>
    <label>Ville de naissance :</label>
    <input type="text" id="villeN" readonly>
    <button type="button" data-compose="villeN">Composer</button>
    <button type="button" data-clear="villeN">Effacer</button>
  </div>

  <div>
    <label>Ville de r√©sidence :</label>
    <input type="text" id="villeR" readonly>
    <button type="button" data-compose="villeR">Composer</button>
    <button type="button" data-clear="villeR">Effacer</button>
  </div>

  <h2>Parents</h2>

  <div>
    <label>Genre parent 1 :</label>
    <label><input type="radio" name="genreP1" value="Homme"> Homme</label>
    <label><input type="radio" name="genreP1" value="Femme"> Femme</label>
    <label><input type="radio" name="genreP1" value="Non-binaire"> Non-binaire</label>
  </div>

  <div>
    <label>Nom parent 1 :</label>
    <input type="text" id="parent1" readonly>
    <button type="button" data-compose="parent1">Composer</button>
    <button type="button" data-clear="parent1">Effacer</button>
  </div>

  <div>
    <label>Genre parent 2 :</label>
    <label><input type="radio" name="genreP2" value="Homme"> Homme</label>
    <label><input type="radio" name="genreP2" value="Femme"> Femme</label>
    <label><input type="radio" name="genreP2" value="Non-binaire"> Non-binaire</label>
  </div>

  <div>
    <label>Nom parent 2 :</label>
    <input type="text" id="parent2" readonly>
    <button type="button" data-compose="parent2">Composer</button>
    <button type="button" data-clear="parent2">Effacer</button>
  </div>

  <h2>Pays</h2>
  <div>
    <label>Vivez-vous dans l'Empire romain ?</label>
    <label><input type="radio" name="empire" value="oui"> Oui</label>
    <label><input type="radio" name="empire" value="non" checked> Non</label>
  </div>
  <div>
    <label>Pays :</label>
    <select id="pays"></select>
  </div>

  <h2>Date de naissance (calendrier r√©publicain)</h2>
  <div>
    <label>Ann√©e :</label>
    <input type="number" id="repYear" min="1" max="400">
  </div>
  <div>
    <label>Mois :</label>
    <select id="repMonth">
      <option>Vend√©miaire</option><option>Brumaire</option><option>Frimaire</option>
      <option>Niv√¥se</option><option>Pluvi√¥se</option><option>Vent√¥se</option>
      <option>Germinal</option><option>Flor√©al</option><option>Prairial</option>
      <option>Messidor</option><option>Thermidor</option><option>Fructidor</option>
      <option>Sans-culottides</option>
    </select>
  </div>
  <div>
    <label>Jour :</label>
    <select id="repDay"></select>
  </div>

<h2>Blason</h2>
  <div id="blason"></div>
  <p id="blasonDesc"></p>
  <button type="button" id="generate">G√©n√©rer un blason</button>

<hr>
<button type="submit">Envoyer</button>

</form>

<!-- Mot Picker -->
<div id="wordPicker" style="display:none;">
  <h3>Choisissez un mot :</h3>
  <div id="wordGrid"></div>
  <button id="closePicker">Fermer</button>
</div>

<script>
const wordPool = {
  A:["Ananas","Ast√©ro√Øde"], B:["Banane","Bateau"], C:["Cactus","Crabe"],
  D:["Dauphin","Dragon"], E:["Escargot","√âl√©phant"], F:["Fraise","Fus√©e"],
  G:["Galet","Guitare"], H:["Hibou","Hache"], I:["Igloo","Iris"],
  J:["Jasmin","Jungle"], K:["Koala","Kiwi"], L:["Lama","Lune"],
  M:["Mangue","Montagne"], N:["Navet","Nuage"], O:["Orange","Oc√©an"],
  P:["Pomme","Panda"], Q:["Quiche","Quartz"], R:["Robot","Rivi√®re"],
  S:["Soleil","Salade"], T:["Tulipe","Tigre"], U:["Uniforme","Urne"],
  V:["Vache","V√©lo"], W:["Wifi","Wasabi"], X:["Xylophone","X√©non"],
  Y:["Yaourt","Y√©ti"], Z:["Z√®bre","Z√©ro"],
  "@": ["@"], ".": ["."], "-": ["-"],"'": ["'"],
  "√©": ["√©"], "√®": ["√®"], "√™": ["√™"], "√´": ["√´"],
  "√†": ["√†"], "√¢": ["√¢"], "√§": ["√§"], "√¥": ["√¥"], "√∂": ["√∂"],
  "√Æ": ["√Æ"], "√Ø": ["√Ø"], "√π": ["√π"], "√ª": ["√ª"], "√ß": ["√ß"]
};

const picker = document.getElementById("wordPicker");
const grid = document.getElementById("wordGrid");
const closeBtn = document.getElementById("closePicker");
let currentField = null;

function capitalizeSmart(text){
  return text
    .toLowerCase()
    .replace(/(^|\s|-)(\S)/g, (m,p1,p2) => p1 + p2.toUpperCase());
}

function openPicker(fieldId){
  currentField = document.getElementById(fieldId);
  renderGrid();
  picker.style.display = "block";
}

function renderGrid(){
  grid.innerHTML = "";
  for (let key in wordPool){
    const words = wordPool[key];
    const word = words[Math.floor(Math.random() * words.length)];
    const btn = document.createElement("button");
    btn.textContent = word;
	btn.onclick = () => {
	  if (!currentField) return;
	  const char = key; // Le caract√®re-cl√©
	  if (currentField.id === "email") {
		currentField.value += char.toLowerCase();
	  } else {
		currentField.value += char.length === 1 ? char : key;
		currentField.value = capitalizeSmart(currentField.value);
	  }
	};
    grid.appendChild(btn);
  }
}

closeBtn.onclick = () => {
  picker.style.display = "none";
  currentField = null;
};

document.querySelectorAll("[data-compose]").forEach(btn=>{
  btn.onclick = () => openPicker(btn.dataset.compose);
});

document.querySelectorAll("[data-clear]").forEach(btn=>{
  btn.onclick = () => {
    const field = document.getElementById(btn.dataset.clear);
    if (field) field.value = "";
  };
});

// Pays
const provinces = [
  "Achaea",
  "Aegyptus",
  "Aegyptus Herculia",
  "Aegyptus Iovia",
  "Aemilia",
  "Africa Nova",
  "Africa Proconsularis",
  "Alpes Cottiae",
  "Alpes Graiae et Poeninae",
  "Alpes Maritimae",
  "Alpes Poeninae",
  "Alpes Poeninae et Graiae",
  "Apulia et Calabria",
  "Aquitania I",
  "Aquitania II",
  "Aquitania III Novempopulana",
  "Arabia",
  "Arabia Petraea",
  "Arcadia Aegypti",
  "Armenia",
  "Armenia Minor",
  "Asia",
  "Assyria",
  "Asturia",
  "Augustamnica",
  "Baetica",
  "Balearica",
  "Belgica I",
  "Belgica II",
  "Bithynia et Pontus",
  "Britannia",
  "Britannia Inferior",
  "Britannia Secunda",
  "Britannia Superior",
  "Byzacena",
  "Caledonia",
  "Campania",
  "Cappadocia",
  "Cilicia",
  "Cilicia Prima",
  "Cilicia Secunda",
  "Civitas Trinovantum",
  "Corsica",
  "Corsica et Sardinia",
  "Creta",
  "Creta et Cyrenaica",
  "Cyprus",
  "Cyrenaica",
  "Dacia",
  "Dacia Mediterranea",
  "Dacia Ripensis",
  "Dalmatia",
  "Dardania",
  "Epirus",
  "Epirus nova",
  "Epirus Nova",
  "Epirus vetus",
  "Epirus Vetus",
  "Europa",
  "Flaminia et Picenum",
  "Flavia Caesariensis",
  "Galatia",
  "Gallaecia",
  "Gallia Aquitania",
  "Gallia Belgica",
  "Gallia Cisalpina",
  "Gallia Lugdunensis",
  "Gallia Narbonensis",
  "Germania Inferior",
  "Germania Superior",
  "Haemimontus",
  "Hispania Citerior",
  "Hispania Tarraconensis",
  "Hispania Ulterior",
  "Hispaniae",
  "Honorias",
  "Illyricum",
  "Isauria",
  "Italia Annonaria",
  "Italia Suburbicaria",
  "Iudaea",
  "Judaea",
  "Liguria",
  "Lucania et Bruttii",
  "Lugdunensis I",
  "Lugdunensis II",
  "Lugdunensis III",
  "Lugdunensis IV Senonia",
  "Lusitania",
  "Lycia et Pamphylia",
  "Macedonia",
  "Macedonia Prima",
  "Macedonia Salutaris",
  "Mauretania Caesariensis",
  "Mauretania Sitifensis",
  "Mauretania Tingitana",
  "Maxima Caesariensis",
  "Maxima Sequanorum",
  "Mesopotamia",
  "Moesia Inferior",
  "Moesia Prima",
  "Moesia Secunda",
  "Moesia Superior",
  "Narbonensis I",
  "Narbonensis II",
  "Noricum",
  "Noricum Mediterraneum",
  "Noricum Ripense",
  "Numidia",
  "Osroene",
  "Palestina I",
  "Palestina II",
  "Palestina Salutaris",
  "Pannonia",
  "Pannonia Prima",
  "Pannonia Savia",
  "Pannonia Valeria",
  "Phoenice",
  "Phoenice Libanensis",
  "Picenum Suburbicarium",
  "Pisidia",
  "Pontus Cappadocianus",
  "Pontus Galaticus",
  "Pontus Polemoniacus",
  "Praevalitana",
  "Raetia",
  "Raetia Prima",
  "Raetia Secunda",
  "Rhodope",
  "Samnium",
  "Sardinia",
  "Savia",
  "Scythia Minor",
  "Sicilia",
  "Syria",
  "Syria Coele",
  "Syria Palaestina",
  "Syria Prima",
  "Syria Secunda",
  "Thebais",
  "Thracia",
  "Tripolitania",
  "Tuscia et Umbria",
  "Valentia",
  "Valeria",
  "Venetia et Histria",
  "Viennensis",
  'Africa', 'Galliarum', 'Illyricum', 'Italia', 'Orientis',
  'Aegypti', 'Africa', 'Asiana', 'Britanniarum', 'Dacia', 'Galliae', 'Hispaniae', 'Italia', 'Macedonia', 'Oriens', 'Pontica', 'Thracia',
 'Carthage', 'Ravenna',
 'Anatolikon', 'Armeniakon', 'Kibyrrhaioton', 'Opsikion', 'Thrakesion',
 'Boukellarion', 'Cherson', 'Hellas', 'Macedonia', 'Optimaton', 'Peloponnesos', 'Sicilia', 'Strymon',
 'Cappadocia', 'Chaldia', 'Koloneia', 'Lykandos', 'Mesopotamia', 'Samos', 'Sebasteia', 'Vaspurakan',
   "Arabia Nova",
  "Germania Magna",
  "Dacia Aureliana",
  "Regnum Bosporanum",
  "Regnum Nabataeorum",
  "Regnum Commagenum",
  "Regnum Emesenorum",
  "Regnum Iudaeae",
  "Regnum Thraciae",
  "Regnum Mauretaniae",
  "Lazicum",
  "Abasgia",
  "Regnum Armeniae Bagratidarum",
  "Regnum Taronis",
  "Neapolis",
  "Venetia",
  "Servia",
  "Bulgaria",
  "Principatus Antiochiae"
];
const countries = [
  {
    "flag": "üá¶üá´",
    "name": "Afghanistan"
  },
  {
    "flag": "üáøüá¶",
    "name": "Afrique du Sud"
  },
  {
    "flag": "üá¶üá±",
    "name": "Albanie"
  },
  {
    "flag": "üá©üáø",
    "name": "Alg√©rie"
  },
  {
    "flag": "üá©üá™",
    "name": "Allemagne"
  },
  {
    "flag": "üá¶üá©",
    "name": "Andorre"
  },
  {
    "flag": "üá¶üá¥",
    "name": "Angola"
  },
  {
    "flag": "üá¶üáÆ",
    "name": "Anguilla"
  },
  {
    "flag": "üá¶üá∂",
    "name": "Antarctique"
  },
  {
    "flag": "üá¶üá¨",
    "name": "Antigua-et-Barbuda"
  },
  {
    "flag": "üá∏üá¶",
    "name": "Arabie saoudite"
  },
  {
    "flag": "üá¶üá∑",
    "name": "Argentine"
  },
  {
    "flag": "üá¶üá≤",
    "name": "Arm√©nie"
  },
  {
    "flag": "üá¶üáº",
    "name": "Aruba"
  },
  {
    "flag": "üá¶üá∫",
    "name": "Australie"
  },
  {
    "flag": "üá¶üáπ",
    "name": "Autriche"
  },
  {
    "flag": "üá¶üáø",
    "name": "Azerba√Ødjan"
  },
  {
    "flag": "üáßüá∏",
    "name": "Bahamas"
  },
  {
    "flag": "üáßüá≠",
    "name": "Bahre√Øn"
  },
  {
    "flag": "üáßüá©",
    "name": "Bangladesh"
  },
  {
    "flag": "üáßüáß",
    "name": "Barbade"
  },
  {
    "flag": "üáßüá™",
    "name": "Belgique"
  },
  {
    "flag": "üáßüáø",
    "name": "Belize"
  },
  {
    "flag": "üáßüá≤",
    "name": "Bermudes"
  },
  {
    "flag": "üáßüáπ",
    "name": "Bhoutan"
  },
  {
    "flag": "üáßüáæ",
    "name": "Bi√©lorussie"
  },
  {
    "flag": "üáßüá¥",
    "name": "Bolivie"
  },
  {
    "flag": "üáßüá¶",
    "name": "Bosnie-Herz√©govine"
  },
  {
    "flag": "üáßüáº",
    "name": "Botswana"
  },
  {
    "flag": "üáßüá≥",
    "name": "Brunei"
  },
  {
    "flag": "üáßüá∑",
    "name": "Br√©sil"
  },
  {
    "flag": "üáßüá¨",
    "name": "Bulgarie"
  },
  {
    "flag": "üáßüá´",
    "name": "Burkina Faso"
  },
  {
    "flag": "üáßüáÆ",
    "name": "Burundi"
  },
  {
    "flag": "üáßüáØ",
    "name": "B√©nin"
  },
  {
    "flag": "üá∞üá≠",
    "name": "Cambodge"
  },
  {
    "flag": "üá®üá≤",
    "name": "Cameroun"
  },
  {
    "flag": "üá®üá¶",
    "name": "Canada"
  },
  {
    "flag": "üá®üáª",
    "name": "Cap-Vert"
  },
  {
    "flag": "üá®üá±",
    "name": "Chili"
  },
  {
    "flag": "üá®üá≥",
    "name": "Chine"
  },
  {
    "flag": "üá®üáæ",
    "name": "Chypre"
  },
  {
    "flag": "üá®üá¥",
    "name": "Colombie"
  },
  {
    "flag": "üá∞üá≤",
    "name": "Comores"
  },
  {
    "flag": "üá®üá¨",
    "name": "Congo-Brazzaville"
  },
  {
    "flag": "üá®üá©",
    "name": "Congo-Kinshasa"
  },
  {
    "flag": "üá∞üáµ",
    "name": "Cor√©e du Nord"
  },
  {
    "flag": "üá∞üá∑",
    "name": "Cor√©e du Sud"
  },
  {
    "flag": "üá®üá∑",
    "name": "Costa Rica"
  },
  {
    "flag": "üá≠üá∑",
    "name": "Croatie"
  },
  {
    "flag": "üá®üá∫",
    "name": "Cuba"
  },
  {
    "flag": "üá®üáº",
    "name": "Cura√ßao"
  },
  {
    "flag": "üá®üáÆ",
    "name": "C√¥te d‚ÄôIvoire"
  },
  {
    "flag": "üá©üá∞",
    "name": "Danemark"
  },
  {
    "flag": "üá©üáØ",
    "name": "Djibouti"
  },
  {
    "flag": "üá©üá≤",
    "name": "Dominique"
  },
  {
    "flag": "üá™üá∏",
    "name": "Espagne"
  },
  {
    "flag": "üá™üá™",
    "name": "Estonie"
  },
  {
    "flag": "üá∏üáø",
    "name": "Eswatini"
  },
  {
    "flag": "üá´üáØ",
    "name": "Fidji"
  },
  {
    "flag": "üá´üáÆ",
    "name": "Finlande"
  },
  {
    "flag": "üá´üá∑",
    "name": "France"
  },
  {
    "flag": "üá¨üá¶",
    "name": "Gabon"
  },
  {
    "flag": "üá¨üá≤",
    "name": "Gambie"
  },
  {
    "flag": "üá¨üá≠",
    "name": "Ghana"
  },
  {
    "flag": "üá¨üáÆ",
    "name": "Gibraltar"
  },
  {
    "flag": "üá¨üá©",
    "name": "Grenade"
  },
  {
    "flag": "üá¨üá±",
    "name": "Groenland"
  },
  {
    "flag": "üá¨üá∑",
    "name": "Gr√®ce"
  },
  {
    "flag": "üá¨üáµ",
    "name": "Guadeloupe"
  },
  {
    "flag": "üá¨üá∫",
    "name": "Guam"
  },
  {
    "flag": "üá¨üáπ",
    "name": "Guatemala"
  },
  {
    "flag": "üá¨üá¨",
    "name": "Guernesey"
  },
  {
    "flag": "üá¨üá≥",
    "name": "Guin√©e"
  },
  {
    "flag": "üá¨üá∂",
    "name": "Guin√©e √©quatoriale"
  },
  {
    "flag": "üá¨üáº",
    "name": "Guin√©e-Bissau"
  },
  {
    "flag": "üá¨üáæ",
    "name": "Guyana"
  },
  {
    "flag": "üá¨üá´",
    "name": "Guyane fran√ßaise"
  },
  {
    "flag": "üá¨üá™",
    "name": "G√©orgie"
  },
  {
    "flag": "üá¨üá∏",
    "name": "G√©orgie du Sud-et-les √éles Sandwich du Sud"
  },
  {
    "flag": "üá≠üáπ",
    "name": "Ha√Øti"
  },
  {
    "flag": "üá≠üá≥",
    "name": "Honduras"
  },
  {
    "flag": "üá≠üá∫",
    "name": "Hongrie"
  },
  {
    "flag": "üáÆüá≥",
    "name": "Inde"
  },
  {
    "flag": "üáÆüá©",
    "name": "Indon√©sie"
  },
  {
    "flag": "üáÆüá∂",
    "name": "Irak"
  },
  {
    "flag": "üáÆüá∑",
    "name": "Iran"
  },
  {
    "flag": "üáÆüá™",
    "name": "Irlande"
  },
  {
    "flag": "üáÆüá∏",
    "name": "Islande"
  },
  {
    "flag": "üáÆüá±",
    "name": "Isra√´l"
  },
  {
    "flag": "üáÆüáπ",
    "name": "Italie"
  },
  {
    "flag": "üáØüá≤",
    "name": "Jama√Øque"
  },
  {
    "flag": "üáØüáµ",
    "name": "Japon"
  },
  {
    "flag": "üáØüá™",
    "name": "Jersey"
  },
  {
    "flag": "üáØüá¥",
    "name": "Jordanie"
  },
  {
    "flag": "üá∞üáø",
    "name": "Kazakhstan"
  },
  {
    "flag": "üá∞üá™",
    "name": "Kenya"
  },
  {
    "flag": "üá∞üá¨",
    "name": "Kirghizstan"
  },
  {
    "flag": "üá∞üáÆ",
    "name": "Kiribati"
  },
  {
    "flag": "üá∞üáº",
    "name": "Kowe√Øt"
  },
  {
    "flag": "üá∑üá™",
    "name": "La R√©union"
  },
  {
    "flag": "üá±üá¶",
    "name": "Laos"
  },
  {
    "flag": "üá±üá∏",
    "name": "Lesotho"
  },
  {
    "flag": "üá±üáª",
    "name": "Lettonie"
  },
  {
    "flag": "üá±üáß",
    "name": "Liban"
  },
  {
    "flag": "üá±üá∑",
    "name": "Liberia"
  },
  {
    "flag": "üá±üáæ",
    "name": "Libye"
  },
  {
    "flag": "üá±üáÆ",
    "name": "Liechtenstein"
  },
  {
    "flag": "üá±üáπ",
    "name": "Lituanie"
  },
  {
    "flag": "üá±üá∫",
    "name": "Luxembourg"
  },
  {
    "flag": "üá≤üá∞",
    "name": "Mac√©doine du Nord"
  },
  {
    "flag": "üá≤üá¨",
    "name": "Madagascar"
  },
  {
    "flag": "üá≤üáæ",
    "name": "Malaisie"
  },
  {
    "flag": "üá≤üáº",
    "name": "Malawi"
  },
  {
    "flag": "üá≤üáª",
    "name": "Maldives"
  },
  {
    "flag": "üá≤üá±",
    "name": "Mali"
  },
  {
    "flag": "üá≤üáπ",
    "name": "Malte"
  },
  {
    "flag": "üá≤üá¶",
    "name": "Maroc"
  },
  {
    "flag": "üá≤üá∂",
    "name": "Martinique"
  },
  {
    "flag": "üá≤üá∫",
    "name": "Maurice"
  },
  {
    "flag": "üá≤üá∑",
    "name": "Mauritanie"
  },
  {
    "flag": "üáæüáπ",
    "name": "Mayotte"
  },
  {
    "flag": "üá≤üáΩ",
    "name": "Mexique"
  },
  {
    "flag": "üá´üá≤",
    "name": "Micron√©sie"
  },
  {
    "flag": "üá≤üá©",
    "name": "Moldavie"
  },
  {
    "flag": "üá≤üá®",
    "name": "Monaco"
  },
  {
    "flag": "üá≤üá≥",
    "name": "Mongolie"
  },
  {
    "flag": "üá≤üá∏",
    "name": "Montserrat"
  },
  {
    "flag": "üá≤üá™",
    "name": "Mont√©n√©gro"
  },
  {
    "flag": "üá≤üáø",
    "name": "Mozambique"
  },
  {
    "flag": "üá≤üá≤",
    "name": "Myanmar (Birmanie)"
  },
  {
    "flag": "üá≥üá¶",
    "name": "Namibie"
  },
  {
    "flag": "üá≥üá∑",
    "name": "Nauru"
  },
  {
    "flag": "üá≥üáÆ",
    "name": "Nicaragua"
  },
  {
    "flag": "üá≥üá™",
    "name": "Niger"
  },
  {
    "flag": "üá≥üá¨",
    "name": "Nigeria"
  },
  {
    "flag": "üá≥üá∫",
    "name": "Niue"
  },
  {
    "flag": "üá≥üá¥",
    "name": "Norv√®ge"
  },
  {
    "flag": "üá≥üá®",
    "name": "Nouvelle-Cal√©donie"
  },
  {
    "flag": "üá≥üáø",
    "name": "Nouvelle-Z√©lande"
  },
  {
    "flag": "üá≥üáµ",
    "name": "N√©pal"
  },
  {
    "flag": "üá¥üá≤",
    "name": "Oman"
  },
  {
    "flag": "üá∫üá¨",
    "name": "Ouganda"
  },
  {
    "flag": "üá∫üáø",
    "name": "Ouzb√©kistan"
  },
  {
    "flag": "üáµüá∞",
    "name": "Pakistan"
  },
  {
    "flag": "üáµüáº",
    "name": "Palaos"
  },
  {
    "flag": "üáµüá¶",
    "name": "Panama"
  },
  {
    "flag": "üáµüá¨",
    "name": "Papouasie-Nouvelle-Guin√©e"
  },
  {
    "flag": "üáµüáæ",
    "name": "Paraguay"
  },
  {
    "flag": "üá≥üá±",
    "name": "Pays-Bas"
  },
  {
    "flag": "üáßüá∂",
    "name": "Pays-Bas carib√©ens"
  },
  {
    "flag": "üáµüá≠",
    "name": "Philippines"
  },
  {
    "flag": "üáµüá±",
    "name": "Pologne"
  },
  {
    "flag": "üáµüá´",
    "name": "Polyn√©sie fran√ßaise"
  },
  {
    "flag": "üáµüá∑",
    "name": "Porto Rico"
  },
  {
    "flag": "üáµüáπ",
    "name": "Portugal"
  },
  {
    "flag": "üáµüá™",
    "name": "P√©rou"
  },
  {
    "flag": "üá∂üá¶",
    "name": "Qatar"
  },
  {
    "flag": "üá≠üá∞",
    "name": "Hong Kong"
  },
  {
    "flag": "üá≤üá¥",
    "name": "Macao"
  },
  {
    "flag": "üá∑üá¥",
    "name": "Roumanie"
  },
  {
    "flag": "üá¨üáß",
    "name": "Royaume-Uni"
  },
  {
    "flag": "üá∑üá∫",
    "name": "Russie"
  },
  {
    "flag": "üá∑üáº",
    "name": "Rwanda"
  },
  {
    "flag": "üá®üá´",
    "name": "R√©publique centrafricaine"
  },
  {
    "flag": "üá©üá¥",
    "name": "R√©publique dominicaine"
  },
  {
    "flag": "üá™üá≠",
    "name": "Sahara occidental"
  },
  {
    "flag": "üáßüá±",
    "name": "Saint-Barth√©lemy"
  },
  {
    "flag": "üá∞üá≥",
    "name": "Saint-Christophe-et-Ni√©v√®s"
  },
  {
    "flag": "üá∏üá≤",
    "name": "Saint-Marin"
  },
  {
    "flag": "üá≤üá´",
    "name": "Saint-Martin"
  },
  {
    "flag": "üá∏üáΩ",
    "name": "Saint-Martin (partie n√©erlandaise)"
  },
  {
    "flag": "üáµüá≤",
    "name": "Saint-Pierre-et-Miquelon"
  },
  {
    "flag": "üáªüá®",
    "name": "Saint-Vincent-et-les Grenadines"
  },
  {
    "flag": "üá∏üá≠",
    "name": "Sainte-H√©l√®ne"
  },
  {
    "flag": "üá±üá®",
    "name": "Sainte-Lucie"
  },
  {
    "flag": "üá∏üáª",
    "name": "Salvador"
  },
  {
    "flag": "üáºüá∏",
    "name": "Samoa"
  },
  {
    "flag": "üá¶üá∏",
    "name": "Samoa am√©ricaines"
  },
  {
    "flag": "üá∏üáπ",
    "name": "Sao Tom√©-et-Principe"
  },
  {
    "flag": "üá∑üá∏",
    "name": "Serbie"
  },
  {
    "flag": "üá∏üá®",
    "name": "Seychelles"
  },
  {
    "flag": "üá∏üá±",
    "name": "Sierra Leone"
  },
  {
    "flag": "üá∏üá¨",
    "name": "Singapour"
  },
  {
    "flag": "üá∏üá∞",
    "name": "Slovaquie"
  },
  {
    "flag": "üá∏üáÆ",
    "name": "Slov√©nie"
  },
  {
    "flag": "üá∏üá¥",
    "name": "Somalie"
  },
  {
    "flag": "üá∏üá©",
    "name": "Soudan"
  },
  {
    "flag": "üá∏üá∏",
    "name": "Soudan du Sud"
  },
  {
    "flag": "üá±üá∞",
    "name": "Sri Lanka"
  },
  {
    "flag": "üá®üá≠",
    "name": "Suisse"
  },
  {
    "flag": "üá∏üá∑",
    "name": "Suriname"
  },
  {
    "flag": "üá∏üá™",
    "name": "Su√®de"
  },
  {
    "flag": "üá∏üáØ",
    "name": "Svalbard et Jan Mayen"
  },
  {
    "flag": "üá∏üáæ",
    "name": "Syrie"
  },
  {
    "flag": "üá∏üá≥",
    "name": "S√©n√©gal"
  },
  {
    "flag": "üáπüáØ",
    "name": "Tadjikistan"
  },
  {
    "flag": "üáπüáø",
    "name": "Tanzanie"
  },
  {
    "flag": "üáπüáº",
    "name": "Ta√Øwan"
  },
  {
    "flag": "üáπüá©",
    "name": "Tchad"
  },
  {
    "flag": "üá®üáø",
    "name": "Tch√©quie"
  },
  {
    "flag": "üáπüá´",
    "name": "Terres australes fran√ßaises"
  },
  {
    "flag": "üáÆüá¥",
    "name": "Territoire britannique de l‚Äôoc√©an Indien"
  },
  {
    "flag": "üáµüá∏",
    "name": "Palestine"
  },
  {
    "flag": "üáπüá≠",
    "name": "Tha√Ølande"
  },
  {
    "flag": "üáπüá±",
    "name": "Timor oriental"
  },
  {
    "flag": "üáπüá¨",
    "name": "Togo"
  },
  {
    "flag": "üáπüá∞",
    "name": "Tokelau"
  },
  {
    "flag": "üáπüá¥",
    "name": "Tonga"
  },
  {
    "flag": "üáπüáπ",
    "name": "Trinit√©-et-Tobago"
  },
  {
    "flag": "üáπüá≥",
    "name": "Tunisie"
  },
  {
    "flag": "üáπüá≤",
    "name": "Turkm√©nistan"
  },
  {
    "flag": "üáπüá∑",
    "name": "Turquie"
  },
  {
    "flag": "üáπüáª",
    "name": "Tuvalu"
  },
  {
    "flag": "üá∫üá¶",
    "name": "Ukraine"
  },
  {
    "flag": "üá∫üáæ",
    "name": "Uruguay"
  },
  {
    "flag": "üáªüá∫",
    "name": "Vanuatu"
  },
  {
    "flag": "üáªüá™",
    "name": "Venezuela"
  },
  {
    "flag": "üáªüá≥",
    "name": "Vi√™t Nam"
  },
  {
    "flag": "üáºüá´",
    "name": "Wallis-et-Futuna"
  },
  {
    "flag": "üáæüá™",
    "name": "Y√©men"
  },
  {
    "flag": "üáøüá≤",
    "name": "Zambie"
  },
  {
    "flag": "üáøüáº",
    "name": "Zimbabwe"
  },
  {
    "flag": "üá™üá¨",
    "name": "√âgypte"
  },
  {
    "flag": "üá¶üá™",
    "name": "√âmirats arabes unis"
  },
  {
    "flag": "üá™üá®",
    "name": "√âquateur"
  },
  {
    "flag": "üá™üá∑",
    "name": "√ârythr√©e"
  },
  {
    "flag": "üáªüá¶",
    "name": "√âtat de la Cit√© du Vatican"
  },
  {
    "flag": "üá∫üá∏",
    "name": "√âtats-Unis"
  },
  {
    "flag": "üá™üáπ",
    "name": "√âthiopie"
  },
  {
    "flag": "üáßüáª",
    "name": "√éle Bouvet"
  },
  {
    "flag": "üá®üáΩ",
    "name": "√éle Christmas"
  },
  {
    "flag": "üá≥üá´",
    "name": "√éle Norfolk"
  },
  {
    "flag": "üáÆüá≤",
    "name": "√éle de Man"
  },
  {
    "flag": "üá∞üáæ",
    "name": "√éles Ca√Ømans"
  },
  {
    "flag": "üá®üá®",
    "name": "√éles Cocos"
  },
  {
    "flag": "üá®üá∞",
    "name": "√éles Cook"
  },
  {
    "flag": "üá´üá¥",
    "name": "√éles F√©ro√©"
  },
  {
    "flag": "üá≠üá≤",
    "name": "√éles Heard-et-MacDonald"
  },
  {
    "flag": "üá´üá∞",
    "name": "√éles Malouines"
  },
  {
    "flag": "üá≤üáµ",
    "name": "√éles Mariannes du Nord"
  },
  {
    "flag": "üá≤üá≠",
    "name": "√éles Marshall"
  },
  {
    "flag": "üáµüá≥",
    "name": "√éles Pitcairn"
  },
  {
    "flag": "üá∏üáß",
    "name": "√éles Salomon"
  },
  {
    "flag": "üáπüá®",
    "name": "√éles Turques-et-Ca√Øques"
  },
  {
    "flag": "üáªüá¨",
    "name": "√éles Vierges britanniques"
  },
  {
    "flag": "üáªüáÆ",
    "name": "√éles Vierges des √âtats-Unis"
  },
  {
    "flag": "üá∫üá≤",
    "name": "√éles mineures √©loign√©es des √âtats-Unis"
  },
  {
    "flag": "üá¶üáΩ",
    "name": "√éles √Öland"
  }
];

const paysSelect = document.getElementById("pays");

function updateCountries(){
  const isRoman = document.querySelector("input[name='empire']:checked").value === "oui";
  paysSelect.innerHTML = "";
  if (isRoman){
    provinces.forEach(p=>{
      const opt = document.createElement("option");
      opt.textContent = p;
      paysSelect.appendChild(opt);
    });
  } else {
    countries.forEach(c=>{
      const opt = document.createElement("option");
      opt.textContent = c.flag;
      opt.title = c.name;
      paysSelect.appendChild(opt);
    });
  }
}
document.querySelectorAll("input[name='empire']").forEach(r=>r.onchange=updateCountries);
updateCountries();

// Date
const repMonth = document.getElementById("repMonth");
const repDay = document.getElementById("repDay");
function updateDays(){
  const m = repMonth.value;
  const max = m === "Sans-culottides" ? 5 : 30;
  repDay.innerHTML = "";
  for (let i=1;i<=max;i++){
    const opt = document.createElement("option");
    opt.textContent = i;
    repDay.appendChild(opt);
  }
}
repMonth.onchange = updateDays;
updateDays();

</script>


  <script>
    const tinctures = ['argent', 'or', 'gules', 'azure', 'vert', 'sable', 'purpure'];
    const tinctureColors = {
      argent: '#f8f8f8',
      or: '#ffd700',
      gules: '#e60026',
      azure: '#0033a0',
      vert: '#228b22',
      sable: '#000000',
      purpure: '#660099'
    };
    const divisions = ['per pale', 'per fess', 'plain'];
    const charges = ['circle', 'cross', 'star', 'diamond'];

    function generateBlazon() {
      const field = divisions[Math.floor(Math.random() * divisions.length)];
      let t1 = tinctures[Math.floor(Math.random() * tinctures.length)];
      let t2 = tinctures[Math.floor(Math.random() * tinctures.length)];
      while (t1 === t2) t2 = tinctures[Math.floor(Math.random() * tinctures.length)];
      const charge = charges[Math.floor(Math.random() * charges.length)];
      return { field, t1, t2, charge };
    }

    function drawBlazon(blazon) {
      const svgNS = "http://www.w3.org/2000/svg";
      const svg = document.createElementNS(svgNS, "svg");
      svg.setAttribute("viewBox", "0 0 200 250");

      // fond
      if (blazon.field === 'plain') {
        const rect = document.createElementNS(svgNS, "rect");
        rect.setAttribute("width", "200");
        rect.setAttribute("height", "250");
        rect.setAttribute("fill", tinctureColors[blazon.t1]);
        svg.appendChild(rect);
      } else if (blazon.field === 'per pale') {
        const left = document.createElementNS(svgNS, "rect");
        left.setAttribute("x", "0");
        left.setAttribute("y", "0");
        left.setAttribute("width", "100");
        left.setAttribute("height", "250");
        left.setAttribute("fill", tinctureColors[blazon.t1]);
        svg.appendChild(left);

        const right = document.createElementNS(svgNS, "rect");
        right.setAttribute("x", "100");
        right.setAttribute("y", "0");
        right.setAttribute("width", "100");
        right.setAttribute("height", "250");
        right.setAttribute("fill", tinctureColors[blazon.t2]);
        svg.appendChild(right);
      } else if (blazon.field === 'per fess') {
        const top = document.createElementNS(svgNS, "rect");
        top.setAttribute("x", "0");
        top.setAttribute("y", "0");
        top.setAttribute("width", "200");
        top.setAttribute("height", "125");
        top.setAttribute("fill", tinctureColors[blazon.t1]);
        svg.appendChild(top);

        const bottom = document.createElementNS(svgNS, "rect");
        bottom.setAttribute("x", "0");
        bottom.setAttribute("y", "125");
        bottom.setAttribute("width", "200");
        bottom.setAttribute("height", "125");
        bottom.setAttribute("fill", tinctureColors[blazon.t2]);
        svg.appendChild(bottom);
      }

      // charge
      const shape = document.createElementNS(svgNS, "path");
      shape.setAttribute("fill", "#fff");

      switch (blazon.charge) {
        case 'circle':
          shape.setAttribute("d", "M 100 125 m -30 0 a 30 30 0 1 0 60 0 a 30 30 0 1 0 -60 0");
          break;
        case 'cross':
          shape.setAttribute("d", "M90 90 H110 V110 H130 V130 H110 V150 H90 V130 H70 V110 H90 Z");
          break;
        case 'star':
          shape.setAttribute("d", "M100,75 L110,110 L145,110 L115,130 L125,165 L100,145 L75,165 L85,130 L55,110 L90,110 Z");
          break;
        case 'diamond':
          shape.setAttribute("d", "M100,80 L130,125 L100,170 L70,125 Z");
          break;
      }

      svg.appendChild(shape);

      const container = document.getElementById("blason");
      container.innerHTML = "";
      container.appendChild(svg);

		const traductionField = {
		  'plain': 'plein',
		  'per pale': 'coup√© verticalement',
		  'per fess': 'coup√© horizontalement'
		};
		const traductionTinctures = {
		  argent: 'argent', or: 'or', gules: 'gueules', azure: 'azur',
		  vert: 'sinople', sable: 'sable', purpure: 'pourpre'
		};
		const traductionCharges = {
		  circle: 'rond', cross: 'croix', star: '√©toile', diamond: 'losange'
		};

		document.getElementById("blasonDesc").textContent =
		  `Champ : ${traductionField[blazon.field]}, √âmaux : ${traductionTinctures[blazon.t1]} & ${traductionTinctures[blazon.t2]}, Figure : ${traductionCharges[blazon.charge]}`;

    }

    document.getElementById("generate").onclick = () => {
      const b = generateBlazon();
      drawBlazon(b);
    };

    // generate at load
    window.onload = () => {
      const b = generateBlazon();
      drawBlazon(b);
    };
  </script>

</body>
</html>
